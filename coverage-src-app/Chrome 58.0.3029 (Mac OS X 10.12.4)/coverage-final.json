{
"/Users/bobby.earl/GitHub/skyux/skyux-builder-router-link/src/app/app.component.ts":{"path":"/Users/bobby.earl/GitHub/skyux/skyux-builder-router-link/src/app/app.component.ts","statementMap":{"1":{"start":{"line":28,"column":0},"end":{"line":28,"column":58}},"2":{"start":{"line":29,"column":0},"end":{"line":29,"column":45}},"3":{"start":{"line":35,"column":0},"end":{"line":141,"column":0}},"4":{"start":{"line":37,"column":12},"end":{"line":37,"column":26}},"5":{"start":{"line":38,"column":12},"end":{"line":38,"column":38}},"6":{"start":{"line":39,"column":12},"end":{"line":39,"column":32}},"7":{"start":{"line":40,"column":24},"end":{"line":40,"column":68}},"8":{"start":{"line":43,"column":9},"end":{"line":57,"column":3}},"9":{"start":{"line":43,"column":2},"end":{"line":57,"column":2}},"10":{"start":{"line":46,"column":4},"end":{"line":46,"column":75}},"11":{"start":{"line":50,"column":4},"end":{"line":54,"column":7}},"12":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"13":{"start":{"line":52,"column":8},"end":{"line":52,"column":49}},"14":{"start":{"line":56,"column":4},"end":{"line":56,"column":31}},"15":{"start":{"line":60,"column":10},"end":{"line":66,"column":3}},"16":{"start":{"line":60,"column":2},"end":{"line":66,"column":2}},"17":{"start":{"line":61,"column":4},"end":{"line":65,"column":7}},"18":{"start":{"line":62,"column":6},"end":{"line":64,"column":7}},"19":{"start":{"line":63,"column":8},"end":{"line":63,"column":65}},"20":{"start":{"line":68,"column":10},"end":{"line":74,"column":3}},"21":{"start":{"line":68,"column":2},"end":{"line":74,"column":2}},"22":{"start":{"line":69,"column":4},"end":{"line":73,"column":5}},"23":{"start":{"line":70,"column":6},"end":{"line":72,"column":8}},"24":{"start":{"line":71,"column":8},"end":{"line":71,"column":64}},"25":{"start":{"line":76,"column":10},"end":{"line":119,"column":3}},"26":{"start":{"line":76,"column":2},"end":{"line":119,"column":2}},"27":{"start":{"line":78,"column":6},"end":{"line":81,"column":21}},"28":{"start":{"line":83,"column":16},"end":{"line":83,"column":41}},"29":{"start":{"line":85,"column":4},"end":{"line":93,"column":6}},"30":{"start":{"line":86,"column":18},"end":{"line":86,"column":40}},"31":{"start":{"line":88,"column":6},"end":{"line":92,"column":7}},"32":{"start":{"line":89,"column":26},"end":{"line":89,"column":67}},"33":{"start":{"line":90,"column":8},"end":{"line":90,"column":45}},"34":{"start":{"line":91,"column":8},"end":{"line":91,"column":21}},"35":{"start":{"line":95,"column":4},"end":{"line":116,"column":5}},"36":{"start":{"line":98,"column":8},"end":{"line":101,"column":10}},"37":{"start":{"line":100,"column":10},"end":{"line":100,"column":30}},"38":{"start":{"line":103,"column":6},"end":{"line":115,"column":7}},"39":{"start":{"line":104,"column":57},"end":{"line":104,"column":59}},"40":{"start":{"line":106,"column":8},"end":{"line":112,"column":9}},"41":{"start":{"line":106,"column":22},"end":{"line":106,"column":21}},"42":{"start":{"line":107,"column":10},"end":{"line":111,"column":13}},"43":{"start":{"line":114,"column":8},"end":{"line":114,"column":42}},"44":{"start":{"line":118,"column":4},"end":{"line":118,"column":28}},"45":{"start":{"line":121,"column":10},"end":{"line":140,"column":3}},"46":{"start":{"line":122,"column":35},"end":{"line":122,"column":60}},"47":{"start":{"line":124,"column":4},"end":{"line":135,"column":5}},"48":{"start":{"line":125,"column":45},"end":{"line":128,"column":7}},"49":{"start":{"line":130,"column":6},"end":{"line":130,"column":42}},"50":{"start":{"line":131,"column":6},"end":{"line":131,"column":33}},"51":{"start":{"line":132,"column":6},"end":{"line":132,"column":38}},"52":{"start":{"line":134,"column":6},"end":{"line":134,"column":36}},"53":{"start":{"line":137,"column":4},"end":{"line":139,"column":5}},"54":{"start":{"line":138,"column":6},"end":{"line":138,"column":42}},"55":{"start":{"line":31,"column":0},"end":{"line":34,"column":2}},"56":{"start":{"line":141,"column":0},"end":{"line":141,"column":1}}},"fnMap":{"1":{"name":"(anonymous_0)","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":-1}}},"2":{"name":"AppComponent","line":40,"loc":{"start":{"line":40,"column":68},"end":{"line":41,"column":7}}},"3":{"name":"(anonymous_2)","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":57,"column":3}}},"4":{"name":"(anonymous_3)","line":50,"loc":{"start":{"line":50,"column":44},"end":{"line":54,"column":5}}},"5":{"name":"(anonymous_4)","line":60,"loc":{"start":{"line":60,"column":56},"end":{"line":66,"column":3}}},"6":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":55},"end":{"line":65,"column":5}}},"7":{"name":"(anonymous_6)","line":68,"loc":{"start":{"line":68,"column":52},"end":{"line":74,"column":3}}},"8":{"name":"(anonymous_7)","line":70,"loc":{"start":{"line":70,"column":63},"end":{"line":72,"column":7}}},"9":{"name":"(anonymous_8)","line":76,"loc":{"start":{"line":76,"column":47},"end":{"line":119,"column":3}}},"10":{"name":"(anonymous_9)","line":85,"loc":{"start":{"line":85,"column":58},"end":{"line":93,"column":5}}},"11":{"name":"(anonymous_10)","line":99,"loc":{"start":{"line":99,"column":57},"end":{"line":101,"column":9}}},"12":{"name":"(anonymous_11)","line":121,"loc":{"start":{"line":121,"column":2},"end":{"line":140,"column":3}}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},{"start":{"line":51,"column":6},"end":{"line":53,"column":7}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":64,"column":7}},{"start":{"line":62,"column":6},"end":{"line":64,"column":7}}]},"3":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":73,"column":5}},{"start":{"line":69,"column":4},"end":{"line":73,"column":5}}]},"4":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":92,"column":7}},{"start":{"line":88,"column":6},"end":{"line":92,"column":7}}]},"5":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":116,"column":5}},{"start":{"line":95,"column":4},"end":{"line":116,"column":5}}]},"6":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":38}},{"start":{"line":99,"column":8},"end":{"line":101,"column":10}}]},"7":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":6},"end":{"line":115,"column":7}},{"start":{"line":103,"column":6},"end":{"line":115,"column":7}}]},"8":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":135,"column":5}},{"start":{"line":124,"column":4},"end":{"line":135,"column":5}}]},"9":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":4},"end":{"line":139,"column":5}},{"start":{"line":137,"column":4},"end":{"line":139,"column":5}}]}},"s":{"1":1,"2":1,"3":1,"4":5,"5":5,"6":5,"7":5,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":2,"47":2,"48":0,"49":0,"50":0,"51":0,"52":0,"53":2,"54":0,"55":1,"56":1},"b":{"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,2],"9":[0,2]},"f":{"1":1,"2":5,"3":2,"4":2,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":2},"code":["import {","  Component,","  OnInit,","  Optional","} from '@angular/core';","","import {","  NavigationEnd,","  Router","} from '@angular/router';","","import {","  BBOmnibar,","  BBOmnibarConfig,","  BBOmnibarNavigation,","  BBOmnibarNavigationItem,","  BBOmnibarSearchArgs","} from '@blackbaud/auth-client';","","import { BBHelp } from '@blackbaud/help-client';","","import {","  SkyAppConfig,","  SkyAppSearchResultsProvider,","  SkyAppWindowRef","} from '@blackbaud/skyux-builder/runtime';","","require('style-loader!@blackbaud/skyux/dist/css/sky.css');","require('style-loader!./app.component.scss');","","@Component({","  selector: 'sky-pages-app',","  template: require('./app.component.html')","})","export class AppComponent implements OnInit {","  constructor(","    private router: Router,","    private windowRef: SkyAppWindowRef,","    private config: SkyAppConfig,","    @Optional() private searchProvider?: SkyAppSearchResultsProvider","  ) { }","","  public ngOnInit() {","","    // Filter params through paramsAllowed","    this.config.runtime.params.parse(this.windowRef.nativeWindow.location);","","    // Without this code, navigating to a new route doesn't cause the window to be","    // scrolled to the top like the browser does automatically with non-SPA navigation.","    this.router.events.subscribe((event: any) => {","      if (event instanceof NavigationEnd) {","        this.windowRef.nativeWindow.scroll(0, 0);","      }","    });","","    this.initShellComponents();","  }","","  // Only pass params that omnibar config cares about","  private setParamsFromQS(omnibarConfig: BBOmnibarConfig) {","    this.config.runtime.params.getAllKeys().forEach(key => {","      if (omnibarConfig[key]) {","        omnibarConfig[key] = this.config.runtime.params.get(key);","      }","    });","  }","","  private setOnSearch(omnibarConfig: BBOmnibarConfig) {","    if (this.searchProvider) {","      omnibarConfig.onSearch = (searchArgs: BBOmnibarSearchArgs) => {","        return this.searchProvider.getSearchResults(searchArgs);","      };","    }","  }","","  private setNav(omnibarConfig: BBOmnibarConfig) {","    const baseUrl =","      (","        this.config.skyux.host.url +","        this.config.runtime.app.base.substr(0, this.config.runtime.app.base.length - 1)","      ).toLowerCase();","","    const nav = new BBOmnibarNavigation();","","    nav.beforeNavCallback = (item: BBOmnibarNavigationItem) => {","      const url = item.url.toLowerCase();","","      if (url.indexOf(baseUrl) === 0) {","        const routePath = url.substring(baseUrl.length, url.length);","        this.router.navigateByUrl(routePath);","        return false;","      }","    };","","    if (this.config.runtime.command === 'serve') {","      // Add any global routes to the omnibar as a convenience to the developer.","      const globalRoutes =","        this.config.skyux.publicRoutes &&","        this.config.skyux.publicRoutes.filter((value: any) => {","          return value.global;","        });","","      if (globalRoutes) {","        const localNavItems: BBOmnibarNavigationItem[] = [];","","        for (let route of globalRoutes) {","          localNavItems.push({","            title: route.name,","            url: baseUrl + route.route,","            data: route","          });","        }","","        nav.localNavItems = localNavItems;","      }","    }","","    omnibarConfig.nav = nav;","  }","","  private initShellComponents() {","    const omnibarBootstrapConfig = this.config.skyux.omnibar;","","    if (omnibarBootstrapConfig) {","      const omnibarConfig: BBOmnibarConfig = {","        serviceName: omnibarBootstrapConfig.serviceName,","        experimental: omnibarBootstrapConfig.experimental","      };","","      this.setParamsFromQS(omnibarConfig);","      this.setNav(omnibarConfig);","      this.setOnSearch(omnibarConfig);","","      BBOmnibar.load(omnibarConfig);","    }","","    if (this.config.skyux.help) {","      BBHelp.load(this.config.skyux.help);","    }","  }","}",""],"l":{"28":1,"29":1,"31":1,"35":1,"37":5,"38":5,"39":5,"40":5,"43":2,"46":2,"50":2,"51":2,"52":1,"56":2,"60":1,"61":0,"62":0,"63":0,"68":1,"69":0,"70":0,"71":0,"76":1,"78":0,"83":0,"85":0,"86":0,"88":0,"89":0,"90":0,"91":0,"95":0,"98":0,"100":0,"103":0,"104":0,"106":0,"107":0,"114":0,"118":0,"121":1,"122":2,"124":2,"125":0,"130":0,"131":0,"132":0,"134":0,"137":2,"138":0,"141":1}}}
